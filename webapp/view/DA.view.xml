<?xml version="1.0" encoding="UTF-8"?>
<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:w="sap.ui.webc.main" controllerName="commandearticle.controller.DA" displayBlock="true">
   <Page id="page" title="{i18n&gt;title}">
      <IconTabBar id="iconTabBar" select=".onFilter" expandable="false">
         <items>
            <IconTabFilter id="_IDGenIconTabFilter1" key="all" showAll="true" count="0" text="Demande d'achats" />
            <IconTabSeparator id="_IDGenIconTabSeparator1" />
            <IconTabFilter id="_IDGenIconTabFilter2" key="v" icon="sap-icon://message-success" iconColor="Positive" count="0" text="Validée" />
            <IconTabFilter id="_IDGenIconTabFilter3" key="nv" icon="sap-icon://pending" iconColor="Default" count="0" text="En cours de Validation" />
            <!-- <IconTabFilter id="_IDGenIconTabFilter4" key="del" icon="sap-icon://message-error" iconColor="Negative" count="0" text="Rejetée" /> -->
         </items>
         <!-- Table Elements - sap.m.Table - Start -->
         <content>
            <!-- First toolbar for Title and Search - Start -->
            <OverflowToolbar id="_IDGenOverflowToolbar01" class="first-overflow">
               <content>
                  <Title id="_IDGenTitle11" text="Demande d'achats" level="H2" />
                  <ToolbarSpacer id="_IDGenToolbarSpacer1" />
                  <Button id="_IDGenButton1" icon="sap-icon://request" type="Accept" text="Nouvelle DA" press="onNewDAClick" />
               </content>
            </OverflowToolbar>
            <!-- First toolbar for Title and Search - End -->
            <Table id="_IDGenTable1" items="{/DemandeSet}" alternateRowColors="true">
               <!-- Table Header - Start -->
               <headerToolbar>
                  <OverflowToolbar id="_IDGenOverflowToolbar1">
                     <content>
                        <ToolbarSpacer id="_IDGenToo1lbarSpacer1" />
                        <SearchField id="searchFiel1d" width="40%" placeholder="Rechercher par Numéro de Demande" enableSuggestions="true" liveChange="onSearch" />
                     </content>
                  </OverflowToolbar>
               </headerToolbar>
               <!-- Table Header - End -->
               <!-- Table Columns - Start -->
               <columns>
                  <Column id="Id">
                     <Text id="_IDGenText1" text="Numéro de Demande d'achat" />
                  </Column>
                  <Column id="Garage">
                     <Text id="_IDGenText8" text="Créé par" />
                  </Column>
                  <!-- <Column id="Ascenseur">
                     <Text id="_IDGenText9" text="Date de création" /> Removed from the table donow why @Mehdi
                  </Column> -->
                  <Column id="Climatisation" width="">
                     <Text id="_IDGenText10" text="Commentaire" />
                  </Column>
                  <Column id="PrixNuitee">
                     <Text id="_IDGenText11" text="Statut" />
                  </Column>
               </columns>
               <!-- Table Columns - End -->
               <ColumnListItem id="_IDGenColumnListItem1" type="Navigation" press="onNavigateToSingleDAPage">
                        <cells>
                            <Text id="_IDGenText13" class="_IDGenText13_id" text="{DemandeAchat}" />
                        </cells>
                        <cells>
                        <ObjectStatus id="_IDGenObjectStatus1"
                           text="{Utilisateur}"
                           icon="sap-icon://account"
                           state="Information" />
                            <!-- <Text id="_IDGenText211" class="_IDGenText13_id" text="{Utilisateur}" /> -->
                        </cells>
                        <!-- <cells>
                            <Text id="_IDGenText1111" class="_IDGenText13_id" text="12/12/2022" /> Removed from the table donow why @Mehdi
                        </cells> -->
                        <cells> 
                            <Text id="_IDGenText122" class="_IDGenText13_id" text="{Commentaire}" />
                        </cells>
                        <cells>
                           <ObjectStatus id="_IDGenObjectStatus2"
                              text="{= ${Supprimé} === 'X' ? 'Rejetée' : ${Status} === 'X' ? 'Validée' : 'En cours'}"
                              inverted="true"
                              icon="{= ${Supprimé} === 'X' ? 'sap-icon://delete' : ${Status} === 'X' ? 'sap-icon://accept' : 'sap-icon://pending'}"
                              state="{= ${Supprimé} === 'X' ? 'Error' : ${Status} === 'X' ? 'Success' : 'Information'}" />
                        </cells>
                </ColumnListItem>
            </Table>
         </content>
         <!-- Table Elements - sap.m.Table - End -->
      </IconTabBar>
   </Page>
</mvc:View>